###########################################################
###                 Installation notes                  ###
###########################################################

To install BATCH-GE, open a terminal on a Linux system and follow the underneath instructions:

1.	Enter “git clone https://github.com/WouterSteyaert/BATCH-GE.git”
	This will clone the git repository on your system. 
	Make sure git is installed on your system. If not, enter ‘sudo apt-get install git’.

2.	Change directory to BATCH-GE by entering ‘cd BATCH-GE’

3.	If your system has a web accessible folder in which you have write access, 
	enter ‘perl Install.pl --WebAccFolder=LOCATION WEB ACCESSABLE FOLDER’ 
	and replace LOCATION WEB ACCESSABLE FOLDER by the full path to this directory. 
	If your system hasn’t any web accessible folder simple run ‘perl Install.pl’. 
	The consequence will be that the URLs generated by BATCH-GE won’t work. 
	It has no consequences to the rest of the script.

The software needs a reference sequence to map the reads onto. This reference sequence must be located in the subfolder ‘genomes’ of BATCH-GE. Follow the underneath instructions to download and prepare the danRer7 genome in order to be able to run the examples. Other genomes can be downloaded and prepared in exactly the same manner. The steps only need to be performed once for each reference sequence in the package.

1.	Change directory to the subfolder ‘genomes’ by entering ‘cd genomes’

2.	Download the appropriate genome, for danRer7 enter ‘wget ftp://hgdownload.cse.ucsc.edu/goldenPath/danRer7/bigZips/danRer7.fa.gz’
This will download danRer7 from the UCSC ftp site.

3.	Change directory to BATCH-GE by entering ‘cd ..’

4.	Prepare the genome for analysis by entering ‘perl PrepareGenome.pl --Genome=danRer7’.

This script will create a sequence dictionary and an index necessary in the further analysis.

###########################################################
###                      EXAMPLES                       ###
###########################################################

Test the software by entering ‘perl BATCH-GE.pl --ExperimentFile PREFIX/BATCH-GE/_EXAMPLE_1/ExperimentFile.csv’.
Replace PREFIX by the folder in which you have cloned BATCH-GE. 
Full results can be found in PREFIX/BATCH-GE-Pub/_EXAMPLE_1/Output/. 
The screen output of this example is:

CRISPR-CAS MUTAGENESIS EFFICIENCY CALCULATOR

        Reading experiment file ...

        Sample number 4 from /home/wsteyaer/BATCH-GE/_EXAMPLE_1/Fastq/ is being analyzed ...
        [Genome=danRer7]

                        Copy Files To Working Directory
                        Trim Reads On Quality
                        Repair reads
                        Map Reads To Reference
                        Collect CutSite Reads
                        AnalyzeSAM
        [Cutsite=pls3]


	Mutagenesis efficiency for pls3 is 0.1126 (42 readpairs with indel(s) versus 331 readpairs without indel(s))
	Repair efficiency for pls3 is 0.0160 (6 readpairs with repair versus 373 readpairs in total)

            There are 4 readpairs with FULL HDR (on a total of 6 repairs)
            There are 1 readpairs with PARTIAL HDR: GTGCCACGTGGTGAACATTGGAGCA (on a total of 6 repairs)

            There are 1 readpairs with PARTIAL HDR: CTGTCACGTGGTGAATATTGGAGCA (on a total of 6 repairs)

            Clean up Folders
 
Replace _EXAMPLE_1 by _EXAMPLE_2 to run the second example. 
The screen output is:

CRISPR-CAS MUTAGENESIS EFFICIENCY CALCULATOR

        Reading experiment file ...

        Sample number 52 from /home/wsteyaer/BATCH-GE/_EXAMPLE_2/Fastq/ is being analyzed ...
        [Genome=danRer7]

                        Copy Files To Working Directory
                        Trim Reads On Quality
                        Repair reads
                        Map Reads To Reference
                        Collect CutSite Reads
                        AnalyzeSAM
        [Cutsite=pls3]


	Mutagenesis efficiency for pls3 is 0.1788 
	(1696 readpairs with indel(s) versus 7786 readpairs without indel(s))
	Repair efficiency for pls3 is 0.0606 
	(575 readpairs with repair versus 9482 readpairs in total)


            There are 559 readpairs with FULL HDR (on a total of 575 repairs)
            There are 7 readpairs with PARTIAL HDR: CTGTCACGTGGTGAATATTGGAGCA (on a total of 575 repairs)

            There are 1 readpairs with PARTIAL HDR: CTGCCACGTGGTGAATATTGGAGCA (on a total of 575 repairs)

            There are 1 readpairs with PARTIAL HDR: GTGCCACGTGGTAAATATTGGAGCA (on a total of 575 repairs)

            There are 4 readpairs with PARTIAL HDR: CTGTCACGTGGTCAACATTGGAGCA (on a total of 575 repairs)

            There are 1 readpairs with PARTIAL HDR: TTGCCACGTGGTGAATATTGGAGCA (on a total of 575 repairs)

            There are 2 readpairs with PARTIAL HDR: GTGTCACGTGGTGAATATTGGAGCA (on a total of 575 repairs)

            Clean up Folders

        Sample number 53 from /home/wsteyaer/BATCH-GE/_EXAMPLE_2/Fastq/ is being analyzed ...
        [Genome=danRer7]

                        Copy Files To Working Directory
                        Trim Reads On Quality
                        Repair reads
                        Map Reads To Reference
                        Collect CutSite Reads
                        AnalyzeSAM
        [Cutsite=pls3]

	Mutagenesis efficiency for pls3 is 0.2231 
	(2021 readpairs with indel(s) versus 7035 readpairs without indel(s))
	Repair efficiency for pls3 is 0.0546 
	(495 readpairs with repair versus 9056 readpairs in total)

            There are 360 readpairs with FULL HDR (on a total of 495 repairs)
            There are 1 readpairs with PARTIAL HDR: GTGCCACGTGGTGAACATTGGAGCA (on a total of 495 repairs)

            There are 1 readpairs with PARTIAL HDR: CTGTCACGTGGTCAATATTGGAGCA (on a total of 495 repairs)

            There are 112 readpairs with PARTIAL HDR: CTGTCACGTGGTGAATATTGGAGCA (on a total of 495 repairs)

            There are 1 readpairs with PARTIAL HDR: GTGCCACGTGGTTAATATTGGAGCA (on a total of 495 repairs)

            There are 1 readpairs with PARTIAL HDR: ATGCCACGTGGTGAATATTGGAGCA (on a total of 495 repairs)

            There are 10 readpairs with PARTIAL HDR: CTGCCACGTGGTGAATATTGGAGCA (on a total of 495 repairs)

            There are 8 readpairs with PARTIAL HDR: CTGTCACGTGGTCAACATTGGAGCA (on a total of 495 repairs)

            There are 1 readpairs with PARTIAL HDR: TTGTCACGTGGTCAACATTGGAGCA (on a total of 495 repairs)

            Clean up Folders